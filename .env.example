# Noah Backup Security Configuration
# Copy this file to .env and fill in your secure values
# IMPORTANT: Never commit .env to version control!

#===============================================================================
# AWS/S3 CREDENTIALS (REQUIRED)
#===============================================================================
# AWS Access Credentials for S3 storage
S3_ACCESS_KEY=your-aws-access-key-here
S3_SECRET_KEY=your-aws-secret-access-key-here

# S3 Configuration
S3_REGION=us-east-1
S3_BUCKET=noah-backup-production

# Optional: Custom S3-compatible endpoint
# Leave empty for AWS S3, or specify for MinIO/Lightsail
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ENDPOINT=http://localhost:9000                    # MinIO local
# S3_ENDPOINT=https://storage.us-east-1.amazonaws.com  # Lightsail Object Storage

#===============================================================================
# NOAH BACKUP SECURITY (RECOMMENDED)
#===============================================================================
# Master encryption key for securing sensitive data (Base64 encoded)
# Generate with: openssl rand -base64 32
MASTER_KEY=your-base64-encoded-master-key-here

# Backup password for additional security layer
# Use a strong password with mixed case, numbers, and symbols
BACKUP_PASSWORD=your-strong-backup-password-here

#===============================================================================
# ADVANCED SECURITY SETTINGS (OPTIONAL)
#===============================================================================
# Enable/disable specific security features
NOAH_ENCRYPTION_ENABLED=true
NOAH_SECURE_DELETE_ENABLED=true
NOAH_AUDIT_LOGGING_ENABLED=true

# Security validation levels
NOAH_SECURITY_LEVEL=high   # Options: low, medium, high, strict

# Temporary file encryption settings
NOAH_ENCRYPT_TEMP_FILES=true
NOAH_TEMP_FILE_PREFIX=noah-backup-secure

#===============================================================================
# PROVIDER-SPECIFIC EXAMPLES
#===============================================================================

# AWS S3 Standard Configuration
# S3_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE
# S3_SECRET_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# S3_REGION=us-west-2
# S3_BUCKET=my-company-backups

# MinIO Configuration
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin
# S3_REGION=us-east-1
# S3_BUCKET=noah-backups
# S3_ENDPOINT=http://localhost:9000

# AWS Lightsail Object Storage Configuration  
# S3_ACCESS_KEY=your-lightsail-access-key
# S3_SECRET_KEY=your-lightsail-secret-key
# S3_REGION=us-east-1
# S3_BUCKET=noah-lightsail-backups
# S3_ENDPOINT=https://storage.us-east-1.amazonaws.com

#===============================================================================
# SECURITY BEST PRACTICES
#===============================================================================
# 1. Use unique, strong credentials for each environment
# 2. Rotate credentials regularly (quarterly recommended)
# 3. Enable MFA on AWS accounts used for backup operations
# 4. Use IAM roles with minimal required permissions
# 5. Monitor access logs for unusual activity
# 6. Keep this .env file secure and never commit to version control
# 7. Use different buckets for different environments (dev/staging/prod)

#===============================================================================
# CREDENTIAL GENERATION HELPERS
#===============================================================================
# Generate secure Master Key:
#   openssl rand -base64 32
#   
# Generate secure password:
#   openssl rand -base64 24
#
# Test S3 connectivity:
#   aws s3 ls s3://your-bucket-name --profile your-profile